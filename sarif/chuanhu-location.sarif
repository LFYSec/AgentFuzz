{"$schema":"https://json.schemastore.org/sarif-2.1.0.json","version":"2.1.0","runs":[{"tool":{"driver":{"name":"CodeQL","organization":"GitHub","semanticVersion":"2.19.2","notifications":[{"id":"py/baseline/expected-extracted-files","name":"py/baseline/expected-extracted-files","shortDescription":{"text":"Expected extracted files"},"fullDescription":{"text":"Files appearing in the source archive that are expected to be extracted."},"defaultConfiguration":{"enabled":true},"properties":{"tags":["expected-extracted-files","telemetry"]}},{"id":"js/baseline/expected-extracted-files","name":"js/baseline/expected-extracted-files","shortDescription":{"text":"Expected extracted files"},"fullDescription":{"text":"Files appearing in the source archive that are expected to be extracted."},"defaultConfiguration":{"enabled":true},"properties":{"tags":["expected-extracted-files","telemetry"]}}],"rules":[{"id":"py-qs/caller","name":"py-qs/caller","fullDescription":{"text":"just a simple test ql file for caller"},"defaultConfiguration":{"enabled":true,"level":"warning"},"properties":{"description":"just a simple test ql file for caller","id":"py-qs/caller","kind":"problem","precision":"low","severity":"warning"}}]},"extensions":[{"name":"py-qs","semanticVersion":"0.0.1+2879052b28a9cfc0df0a17e21b37ffb14a6168db","locations":[{"uri":"file:///home/ylt/AgentBeatAgent/ql/","description":{"text":"The QL pack root directory."},"properties":{"tags":["CodeQL/LocalPackRoot"]}},{"uri":"file:///home/ylt/AgentBeatAgent/ql/qlpack.yml","description":{"text":"The QL pack definition file."},"properties":{"tags":["CodeQL/LocalPackDefinitionFile"]}}]},{"name":"codeql/python-all","semanticVersion":"2.1.1+3990d0e11a3f93a79148ae80ff1e10951171d611","locations":[{"uri":"file:///home/ylt/codeql/qlpacks/codeql/python-all/2.1.1/","description":{"text":"The QL pack root directory."},"properties":{"tags":["CodeQL/LocalPackRoot"]}},{"uri":"file:///home/ylt/codeql/qlpacks/codeql/python-all/2.1.1/qlpack.yml","description":{"text":"The QL pack definition file."},"properties":{"tags":["CodeQL/LocalPackDefinitionFile"]}}]},{"name":"codeql/threat-models","semanticVersion":"1.0.10+3990d0e11a3f93a79148ae80ff1e10951171d611","locations":[{"uri":"file:///home/ylt/codeql/qlpacks/codeql/threat-models/1.0.10/","description":{"text":"The QL pack root directory."},"properties":{"tags":["CodeQL/LocalPackRoot"]}},{"uri":"file:///home/ylt/codeql/qlpacks/codeql/threat-models/1.0.10/qlpack.yml","description":{"text":"The QL pack definition file."},"properties":{"tags":["CodeQL/LocalPackDefinitionFile"]}}]}]},"invocations":[{"toolExecutionNotifications":[{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/repo.py","uriBaseId":"%SRCROOT%","index":8}}}],"message":{"text":""},"level":"none","descriptor":{"id":"py/baseline/expected-extracted-files","index":0},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/utils.py","uriBaseId":"%SRCROOT%","index":9}}}],"message":{"text":""},"level":"none","descriptor":{"id":"py/baseline/expected-extracted-files","index":0},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/overwrites.py","uriBaseId":"%SRCROOT%","index":10}}}],"message":{"text":""},"level":"none","descriptor":{"id":"py/baseline/expected-extracted-files","index":0},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/train_func.py","uriBaseId":"%SRCROOT%","index":11}}}],"message":{"text":""},"level":"none","descriptor":{"id":"py/baseline/expected-extracted-files","index":0},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/presets.py","uriBaseId":"%SRCROOT%","index":12}}}],"message":{"text":""},"level":"none","descriptor":{"id":"py/baseline/expected-extracted-files","index":0},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/__init__.py","uriBaseId":"%SRCROOT%","index":13}}}],"message":{"text":""},"level":"none","descriptor":{"id":"py/baseline/expected-extracted-files","index":0},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/config.py","uriBaseId":"%SRCROOT%","index":14}}}],"message":{"text":""},"level":"none","descriptor":{"id":"py/baseline/expected-extracted-files","index":0},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/webui.py","uriBaseId":"%SRCROOT%","index":15}}}],"message":{"text":""},"level":"none","descriptor":{"id":"py/baseline/expected-extracted-files","index":0},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"ChuanhuChatbot.py","uriBaseId":"%SRCROOT%","index":16}}}],"message":{"text":""},"level":"none","descriptor":{"id":"py/baseline/expected-extracted-files","index":0},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/webui_locale.py","uriBaseId":"%SRCROOT%","index":17}}}],"message":{"text":""},"level":"none","descriptor":{"id":"py/baseline/expected-extracted-files","index":0},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/pdf_func.py","uriBaseId":"%SRCROOT%","index":18}}}],"message":{"text":""},"level":"none","descriptor":{"id":"py/baseline/expected-extracted-files","index":0},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/index_func.py","uriBaseId":"%SRCROOT%","index":19}}}],"message":{"text":""},"level":"none","descriptor":{"id":"py/baseline/expected-extracted-files","index":0},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"locale/extract_locale.py","uriBaseId":"%SRCROOT%","index":20}}}],"message":{"text":""},"level":"none","descriptor":{"id":"py/baseline/expected-extracted-files","index":0},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/shared.py","uriBaseId":"%SRCROOT%","index":21}}}],"message":{"text":""},"level":"none","descriptor":{"id":"py/baseline/expected-extracted-files","index":0},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"web_assets/javascript/updater.js","uriBaseId":"%SRCROOT%","index":22}}}],"message":{"text":""},"level":"none","descriptor":{"id":"js/baseline/expected-extracted-files","index":1},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"web_assets/javascript/chat-list.js","uriBaseId":"%SRCROOT%","index":23}}}],"message":{"text":""},"level":"none","descriptor":{"id":"js/baseline/expected-extracted-files","index":1},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"web_assets/javascript/ChuanhuChat.js","uriBaseId":"%SRCROOT%","index":24}}}],"message":{"text":""},"level":"none","descriptor":{"id":"js/baseline/expected-extracted-files","index":1},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"web_assets/javascript/chat-history.js","uriBaseId":"%SRCROOT%","index":25}}}],"message":{"text":""},"level":"none","descriptor":{"id":"js/baseline/expected-extracted-files","index":1},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"web_assets/javascript/user-info.js","uriBaseId":"%SRCROOT%","index":26}}}],"message":{"text":""},"level":"none","descriptor":{"id":"js/baseline/expected-extracted-files","index":1},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"web_assets/javascript/sliders.js","uriBaseId":"%SRCROOT%","index":27}}}],"message":{"text":""},"level":"none","descriptor":{"id":"js/baseline/expected-extracted-files","index":1},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"web_assets/javascript/file-input.js","uriBaseId":"%SRCROOT%","index":28}}}],"message":{"text":""},"level":"none","descriptor":{"id":"js/baseline/expected-extracted-files","index":1},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"web_assets/javascript/external-scripts.js","uriBaseId":"%SRCROOT%","index":29}}}],"message":{"text":""},"level":"none","descriptor":{"id":"js/baseline/expected-extracted-files","index":1},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"web_assets/javascript/fake-gradio.js","uriBaseId":"%SRCROOT%","index":30}}}],"message":{"text":""},"level":"none","descriptor":{"id":"js/baseline/expected-extracted-files","index":1},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"web_assets/javascript/localization.js","uriBaseId":"%SRCROOT%","index":31}}}],"message":{"text":""},"level":"none","descriptor":{"id":"js/baseline/expected-extracted-files","index":1},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"web_assets/javascript/message-button.js","uriBaseId":"%SRCROOT%","index":32}}}],"message":{"text":""},"level":"none","descriptor":{"id":"js/baseline/expected-extracted-files","index":1},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"web_assets/javascript/utils.js","uriBaseId":"%SRCROOT%","index":33}}}],"message":{"text":""},"level":"none","descriptor":{"id":"js/baseline/expected-extracted-files","index":1},"properties":{"formattedMessage":{"text":""}}},{"locations":[{"physicalLocation":{"artifactLocation":{"uri":"web_assets/javascript/webui.js","uriBaseId":"%SRCROOT%","index":34}}}],"message":{"text":""},"level":"none","descriptor":{"id":"js/baseline/expected-extracted-files","index":1},"properties":{"formattedMessage":{"text":""}}}],"executionSuccessful":true}],"artifacts":[{"location":{"uri":"modules/models/ChuanhuAgent.py","uriBaseId":"%SRCROOT%","index":0}},{"location":{"uri":"modules/models/DALLE3.py","uriBaseId":"%SRCROOT%","index":1}},{"location":{"uri":"modules/models/ERNIE.py","uriBaseId":"%SRCROOT%","index":2}},{"location":{"uri":"modules/models/OpenAIVision.py","uriBaseId":"%SRCROOT%","index":3}},{"location":{"uri":"modules/models/XMChat.py","uriBaseId":"%SRCROOT%","index":4}},{"location":{"uri":"modules/models/inspurai.py","uriBaseId":"%SRCROOT%","index":5}},{"location":{"uri":"modules/models/midjourney.py","uriBaseId":"%SRCROOT%","index":6}},{"location":{"uri":"modules/models/minimax.py","uriBaseId":"%SRCROOT%","index":7}},{"location":{"uri":"modules/repo.py","uriBaseId":"%SRCROOT%","index":8}},{"location":{"uri":"modules/utils.py","uriBaseId":"%SRCROOT%","index":9}},{"location":{"uri":"modules/overwrites.py","uriBaseId":"%SRCROOT%","index":10}},{"location":{"uri":"modules/train_func.py","uriBaseId":"%SRCROOT%","index":11}},{"location":{"uri":"modules/presets.py","uriBaseId":"%SRCROOT%","index":12}},{"location":{"uri":"modules/__init__.py","uriBaseId":"%SRCROOT%","index":13}},{"location":{"uri":"modules/config.py","uriBaseId":"%SRCROOT%","index":14}},{"location":{"uri":"modules/webui.py","uriBaseId":"%SRCROOT%","index":15}},{"location":{"uri":"ChuanhuChatbot.py","uriBaseId":"%SRCROOT%","index":16}},{"location":{"uri":"modules/webui_locale.py","uriBaseId":"%SRCROOT%","index":17}},{"location":{"uri":"modules/pdf_func.py","uriBaseId":"%SRCROOT%","index":18}},{"location":{"uri":"modules/index_func.py","uriBaseId":"%SRCROOT%","index":19}},{"location":{"uri":"locale/extract_locale.py","uriBaseId":"%SRCROOT%","index":20}},{"location":{"uri":"modules/shared.py","uriBaseId":"%SRCROOT%","index":21}},{"location":{"uri":"web_assets/javascript/updater.js","uriBaseId":"%SRCROOT%","index":22}},{"location":{"uri":"web_assets/javascript/chat-list.js","uriBaseId":"%SRCROOT%","index":23}},{"location":{"uri":"web_assets/javascript/ChuanhuChat.js","uriBaseId":"%SRCROOT%","index":24}},{"location":{"uri":"web_assets/javascript/chat-history.js","uriBaseId":"%SRCROOT%","index":25}},{"location":{"uri":"web_assets/javascript/user-info.js","uriBaseId":"%SRCROOT%","index":26}},{"location":{"uri":"web_assets/javascript/sliders.js","uriBaseId":"%SRCROOT%","index":27}},{"location":{"uri":"web_assets/javascript/file-input.js","uriBaseId":"%SRCROOT%","index":28}},{"location":{"uri":"web_assets/javascript/external-scripts.js","uriBaseId":"%SRCROOT%","index":29}},{"location":{"uri":"web_assets/javascript/fake-gradio.js","uriBaseId":"%SRCROOT%","index":30}},{"location":{"uri":"web_assets/javascript/localization.js","uriBaseId":"%SRCROOT%","index":31}},{"location":{"uri":"web_assets/javascript/message-button.js","uriBaseId":"%SRCROOT%","index":32}},{"location":{"uri":"web_assets/javascript/utils.js","uriBaseId":"%SRCROOT%","index":33}},{"location":{"uri":"web_assets/javascript/webui.js","uriBaseId":"%SRCROOT%","index":34}}],"results":[{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#ChuanhuAgent_Client.fetch_url_content@ChuanhuAgent.py->requests.get@/home/ylt/ChuanhuChatGPT/modules/models/ChuanhuAgent.py$$192:20$$192:36"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/ChuanhuAgent.py","uriBaseId":"%SRCROOT%","index":0},"region":{"startLine":191,"startColumn":5,"endColumn":38},"contextRegion":{"startLine":189,"endLine":193,"snippet":{"text":"        )[\"output_text\"]\n\n    def fetch_url_content(self, url):\n        response = requests.get(url)\n        soup = BeautifulSoup(response.text, \"html.parser\")\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"d1e8e0f086b02a1f:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"2#ChuanhuAgent_Client.summary_url@ChuanhuAgent.py->ChuanhuAgent_Client.fetch_url_content@ChuanhuAgent.py->requests.get@/home/ylt/ChuanhuChatGPT/modules/models/ChuanhuAgent.py$$192:20$$192:36"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/ChuanhuAgent.py","uriBaseId":"%SRCROOT%","index":0},"region":{"startLine":200,"startColumn":5,"endColumn":32},"contextRegion":{"startLine":198,"endLine":202,"snippet":{"text":"        return text\n\n    def summary_url(self, url):\n        text = self.fetch_url_content(url)\n        if text == \"\":\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"eb1b82baa403054:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"2#ChuanhuAgent_Client.ask_url@ChuanhuAgent.py->ChuanhuAgent_Client.fetch_url_content@ChuanhuAgent.py->requests.get@/home/ylt/ChuanhuChatGPT/modules/models/ChuanhuAgent.py$$192:20$$192:36"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/ChuanhuAgent.py","uriBaseId":"%SRCROOT%","index":0},"region":{"startLine":209,"startColumn":5,"endColumn":38},"contextRegion":{"startLine":207,"endLine":211,"snippet":{"text":"        return url_content\n\n    def ask_url(self, url, question):\n        text = self.fetch_url_content(url)\n        if text == \"\":\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"94be58e585dfb2d9:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#OpenAI_DALLE3_Client.get_answer_at_once@DALLE3.py->requests.post@/home/ylt/ChuanhuChatGPT/modules/models/DALLE3.py$$46:28$$52:17"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/DALLE3.py","uriBaseId":"%SRCROOT%","index":1},"region":{"startLine":23,"startColumn":5,"endColumn":48},"contextRegion":{"startLine":21,"endLine":25,"snippet":{"text":"        return prompt\n\n    def get_answer_at_once(self, stream=False):\n        prompt = self._get_dalle3_prompt()\n        headers = {\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"c4b7307e3e2526bd:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#ERNIE_Client.get_access_token@ERNIE.py->requests.request@/home/ylt/ChuanhuChatGPT/modules/models/ERNIE.py$$35:20$$35:79"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/ERNIE.py","uriBaseId":"%SRCROOT%","index":2},"region":{"startLine":22,"startColumn":5,"endColumn":32},"contextRegion":{"startLine":20,"endLine":24,"snippet":{"text":"            self.ERNIE_url = \"https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/completions_pro?access_token=\"\n\n    def get_access_token(self):\n        \"\"\"\n        使用 AK，SK 生成鉴权签名（Access Token）\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"e7f7aec6c16ba407:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#ERNIE_Client.get_answer_stream_iter@ERNIE.py->requests.request@/home/ylt/ChuanhuChatGPT/modules/models/ERNIE.py$$56:20$$56:92\n2#ERNIE_Client.get_answer_stream_iter@ERNIE.py->ERNIE_Client.get_access_token@ERNIE.py->requests.request@/home/ylt/ChuanhuChatGPT/modules/models/ERNIE.py$$35:20$$35:79"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/ERNIE.py","uriBaseId":"%SRCROOT%","index":2},"region":{"startLine":38,"startColumn":5,"endColumn":38},"contextRegion":{"startLine":36,"endLine":40,"snippet":{"text":"\n        return response.json()[\"access_token\"]\n    def get_answer_stream_iter(self):\n        url = self.ERNIE_url + self.get_access_token()\n        system_prompt = self.system_prompt\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"50158d54899e5582:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#ERNIE_Client.get_answer_at_once@ERNIE.py->requests.request@/home/ylt/ChuanhuChatGPT/modules/models/ERNIE.py$$88:20$$88:92\n2#ERNIE_Client.get_answer_at_once@ERNIE.py->ERNIE_Client.get_access_token@ERNIE.py->requests.request@/home/ylt/ChuanhuChatGPT/modules/models/ERNIE.py$$35:20$$35:79"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/ERNIE.py","uriBaseId":"%SRCROOT%","index":2},"region":{"startLine":70,"startColumn":5,"endColumn":34},"contextRegion":{"startLine":68,"endLine":72,"snippet":{"text":"\n\n    def get_answer_at_once(self):\n        url = self.ERNIE_url + self.get_access_token()\n        system_prompt = self.system_prompt\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"bc687fde6f9b9dee:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"2#OpenAIVisionClient.get_answer_stream_iter@OpenAIVision.py->OpenAIVisionClient._get_response@OpenAIVision.py->requests.post@/home/ylt/ChuanhuChatGPT/modules/models/OpenAIVision.py$$196:28$$202:17"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/OpenAIVision.py","uriBaseId":"%SRCROOT%","index":3},"region":{"startLine":45,"startColumn":5,"endColumn":38},"contextRegion":{"startLine":43,"endLine":47,"snippet":{"text":"        self._refresh_header()\n\n    def get_answer_stream_iter(self):\n        response = self._get_response(stream=True)\n        if response is not None:\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"92c87148105271b0:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"2#OpenAIVisionClient.get_answer_at_once@OpenAIVision.py->OpenAIVisionClient._get_response@OpenAIVision.py->requests.post@/home/ylt/ChuanhuChatGPT/modules/models/OpenAIVision.py$$196:28$$202:17"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/OpenAIVision.py","uriBaseId":"%SRCROOT%","index":3},"region":{"startLine":56,"startColumn":5,"endColumn":34},"contextRegion":{"startLine":54,"endLine":58,"snippet":{"text":"            yield STANDARD_ERROR_MSG + GENERAL_ERROR_MSG\n\n    def get_answer_at_once(self):\n        response = self._get_response()\n        response = json.loads(response.text)\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"671d1aebbadee384:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"2#OpenAIVisionClient.billing_info@OpenAIVision.py->OpenAIVisionClient._get_billing_data@OpenAIVision.py->requests.get@/home/ylt/ChuanhuChatGPT/modules/models/OpenAIVision.py$$217:24$$221:13"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/OpenAIVision.py","uriBaseId":"%SRCROOT%","index":3},"region":{"startLine":80,"startColumn":5,"endColumn":28},"contextRegion":{"startLine":78,"endLine":82,"snippet":{"text":"        return total\n\n    def billing_info(self):\n        try:\n            curr_time = datetime.datetime.now()\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"694d27fe230168d:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#OpenAIVisionClient._get_response@OpenAIVision.py->requests.post@/home/ylt/ChuanhuChatGPT/modules/models/OpenAIVision.py$$196:28$$202:17"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/OpenAIVision.py","uriBaseId":"%SRCROOT%","index":3},"region":{"startLine":152,"startColumn":5,"endColumn":43},"contextRegion":{"startLine":150,"endLine":154,"snippet":{"text":"\n    @shared.state.switching_api_key  # 在不开启多账号模式的时候，这个装饰器不会起作用\n    def _get_response(self, stream=False):\n        openai_api_key = self.api_key\n        system_prompt = self.system_prompt\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"aa280fef9595c2f1:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#OpenAIVisionClient._get_billing_data@OpenAIVision.py->requests.get@/home/ylt/ChuanhuChatGPT/modules/models/OpenAIVision.py$$217:24$$221:13"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/OpenAIVision.py","uriBaseId":"%SRCROOT%","index":3},"region":{"startLine":215,"startColumn":5,"endColumn":46},"contextRegion":{"startLine":213,"endLine":217,"snippet":{"text":"\n\n    def _get_billing_data(self, billing_url):\n        with retrieve_proxy():\n            response = requests.get(\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"27897bf9da945e67:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#OpenAIVisionClient._single_query_at_once@OpenAIVision.py->requests.post@/home/ylt/ChuanhuChatGPT/modules/models/OpenAIVision.py$$283:24$$289:13"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/OpenAIVision.py","uriBaseId":"%SRCROOT%","index":3},"region":{"startLine":270,"startColumn":5,"endColumn":63},"contextRegion":{"startLine":268,"endLine":272,"snippet":{"text":"        return ret\n\n    def _single_query_at_once(self, history, temperature=1.0):\n        timeout = TIMEOUT_ALL\n        headers = {\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"aaa750192bfd82cd:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"2#OpenAIVisionClient.auto_name_chat_history@OpenAIVision.py->OpenAIVisionClient._single_query_at_once@OpenAIVision.py->requests.post@/home/ylt/ChuanhuChatGPT/modules/models/OpenAIVision.py$$283:24$$289:13"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/OpenAIVision.py","uriBaseId":"%SRCROOT%","index":3},"region":{"startLine":293,"startColumn":5,"endColumn":93},"contextRegion":{"startLine":291,"endLine":295,"snippet":{"text":"        return response\n\n    def auto_name_chat_history(self, name_chat_method, user_question, single_turn_checkbox):\n        if len(self.history) == 2 and not single_turn_checkbox and not hide_history_when_not_logged_in:\n            user_question = self.history[0][\"content\"]\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"d6613695ffd79c3:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#XMChat.like@XMChat.py->requests.post@/home/ylt/ChuanhuChatGPT/modules/models/XMChat.py$$90:9$$90:42"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/XMChat.py","uriBaseId":"%SRCROOT%","index":4},"region":{"startLine":83,"startColumn":5,"endColumn":20},"contextRegion":{"startLine":81,"endLine":85,"snippet":{"text":"            self.image_path = None\n\n    def like(self):\n        if self.last_conv_id is None:\n            return \"点赞失败，你还没发送过消息\"\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"3684b75e8b399f92:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#XMChat.dislike@XMChat.py->requests.post@/home/ylt/ChuanhuChatGPT/modules/models/XMChat.py$$100:9$$100:42"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/XMChat.py","uriBaseId":"%SRCROOT%","index":4},"region":{"startLine":93,"startColumn":5,"endColumn":23},"contextRegion":{"startLine":91,"endLine":95,"snippet":{"text":"        return \"👍点赞成功，感谢反馈～\"\n\n    def dislike(self):\n        if self.last_conv_id is None:\n            return \"点踩失败，你还没发送过消息\"\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"7b62201fc96e5382:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#XMChat.handle_file_upload@XMChat.py->requests.post@/home/ylt/ChuanhuChatGPT/modules/models/XMChat.py$$130:28$$130:61"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/XMChat.py","uriBaseId":"%SRCROOT%","index":4},"region":{"startLine":109,"startColumn":5,"endColumn":60},"contextRegion":{"startLine":107,"endLine":111,"snippet":{"text":"        return limited_context, fake_inputs, display_append, real_inputs, chatbot\n\n    def handle_file_upload(self, files, chatbot, language):\n        \"\"\"if the model accepts multi modal input, implement this function\"\"\"\n        if files:\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"e7b79c742cd1b867:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#XMChat.get_answer_at_once@XMChat.py->requests.post@/home/ylt/ChuanhuChatGPT/modules/models/XMChat.py$$146:20$$146:53"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/XMChat.py","uriBaseId":"%SRCROOT%","index":4},"region":{"startLine":135,"startColumn":5,"endColumn":34},"contextRegion":{"startLine":133,"endLine":137,"snippet":{"text":"        return None, chatbot, None\n\n    def get_answer_at_once(self):\n        question = self.history[-1][\"content\"]\n        conv_id = str(uuid.uuid4())\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"8ad00121e125db77:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#YuanAPI.rest_get@inspurai.py->requests.get@/home/ylt/ChuanhuChatGPT/modules/models/inspurai.py$$232:24$$232:87"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/inspurai.py","uriBaseId":"%SRCROOT%","index":5},"region":{"startLine":229,"startColumn":5,"endColumn":58},"contextRegion":{"startLine":227,"endLine":231,"snippet":{"text":"\n    @staticmethod\n    def rest_get(url, header, timeout, show_error=False):\n        '''Call rest get method'''\n        try:\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"367244d60b5f100a:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"2#YuanAPI.submit_request@inspurai.py->YuanAPI.rest_get@inspurai.py->requests.get@/home/ylt/ChuanhuChatGPT/modules/models/inspurai.py$$232:24$$232:87"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/inspurai.py","uriBaseId":"%SRCROOT%","index":5},"region":{"startLine":246,"startColumn":5,"endLine":247,"endColumn":43},"contextRegion":{"startLine":244,"endLine":249,"snippet":{"text":"        return headers\n\n    def submit_request(self, query, temperature, topP, topK, max_tokens, engine, frequencyPenalty, responsePenalty,\n                       noRepeatNgramSize):\n        \"\"\"Submit query to the backend server and get requestID.\"\"\"\n        headers = self.header_generation()\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"11decaab8d6f6dfb:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"2#YuanAPI.reply_request@inspurai.py->YuanAPI.rest_get@inspurai.py->requests.get@/home/ylt/ChuanhuChatGPT/modules/models/inspurai.py$$232:24$$232:87"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/inspurai.py","uriBaseId":"%SRCROOT%","index":5},"region":{"startLine":265,"startColumn":5,"endColumn":55},"contextRegion":{"startLine":263,"endLine":267,"snippet":{"text":"            raise RuntimeWarning(response_text)\n\n    def reply_request(self, requestId, cycle_count=5):\n        \"\"\"Check reply API to get the inference response.\"\"\"\n        url = self.REPLY_URL + \"account={0}&requestId={1}\".format(self.ACCOUNT, requestId)\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"9cead0a676de4038:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#Midjourney_Client.split_image@midjourney.py->requests.get@/home/ylt/ChuanhuChatGPT/modules/models/midjourney.py$$83:27$$83:49"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/midjourney.py","uriBaseId":"%SRCROOT%","index":6},"region":{"startLine":78,"startColumn":5,"endColumn":38},"contextRegion":{"startLine":76,"endLine":80,"snippet":{"text":"        )\n\n    def split_image(self, image_url):\n        \"\"\"\n        when enabling temp dir, split image into 4 parts\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"e2c86d4ac79e75f0:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#Midjourney_Client.request_mj@midjourney.py->requests.request@/home/ylt/ChuanhuChatGPT/modules/models/midjourney.py$$123:27$$123:105"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/midjourney.py","uriBaseId":"%SRCROOT%","index":6},"region":{"startLine":105,"startColumn":5,"endColumn":72},"contextRegion":{"startLine":103,"endLine":107,"snippet":{"text":"        return {'status': 'ok'}\n\n    def request_mj(self, path: str, action: str, data: str, retries=3):\n        \"\"\"\n        request midjourney api\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"f700f57ed228556e:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"2#Midjourney_Client.fetch_status@midjourney.py->Midjourney_Client.split_image@midjourney.py->requests.get@/home/ylt/ChuanhuChatGPT/modules/models/midjourney.py$$83:27$$83:49\n2#Midjourney_Client.fetch_status@midjourney.py->Midjourney_Client.request_mj@midjourney.py->requests.request@/home/ylt/ChuanhuChatGPT/modules/models/midjourney.py$$123:27$$123:105"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/midjourney.py","uriBaseId":"%SRCROOT%","index":6},"region":{"startLine":133,"startColumn":5,"endColumn":55},"contextRegion":{"startLine":131,"endLine":135,"snippet":{"text":"        return res\n\n    def fetch_status(self, fetch_data: FetchDataPack):\n        \"\"\"\n        fetch status of current task\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"aeea63db8966d97f:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"2#Midjourney_Client.get_answer_at_once@midjourney.py->Midjourney_Client.request_mj@midjourney.py->requests.request@/home/ylt/ChuanhuChatGPT/modules/models/midjourney.py$$123:27$$123:105\n3#Midjourney_Client.get_answer_at_once@midjourney.py->Midjourney_Client.fetch_status@midjourney.py->Midjourney_Client.split_image@midjourney.py->requests.get@/home/ylt/ChuanhuChatGPT/modules/models/midjourney.py$$83:27$$83:49\n3#Midjourney_Client.get_answer_at_once@midjourney.py->Midjourney_Client.fetch_status@midjourney.py->Midjourney_Client.request_mj@midjourney.py->requests.request@/home/ylt/ChuanhuChatGPT/modules/models/midjourney.py$$123:27$$123:105"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/midjourney.py","uriBaseId":"%SRCROOT%","index":6},"region":{"startLine":225,"startColumn":5,"endColumn":34},"contextRegion":{"startLine":223,"endLine":227,"snippet":{"text":"        return super().reset()\n\n    def get_answer_at_once(self):\n        content = self.history[-1]['content']\n        answer = self.get_help()\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"ddc4b79b5d575681:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"2#Midjourney_Client.get_answer_stream_iter@midjourney.py->Midjourney_Client.request_mj@midjourney.py->requests.request@/home/ylt/ChuanhuChatGPT/modules/models/midjourney.py$$123:27$$123:105\n3#Midjourney_Client.get_answer_stream_iter@midjourney.py->Midjourney_Client.fetch_status@midjourney.py->Midjourney_Client.split_image@midjourney.py->requests.get@/home/ylt/ChuanhuChatGPT/modules/models/midjourney.py$$83:27$$83:49\n3#Midjourney_Client.get_answer_stream_iter@midjourney.py->Midjourney_Client.fetch_status@midjourney.py->Midjourney_Client.request_mj@midjourney.py->requests.request@/home/ylt/ChuanhuChatGPT/modules/models/midjourney.py$$123:27$$123:105"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/midjourney.py","uriBaseId":"%SRCROOT%","index":6},"region":{"startLine":289,"startColumn":5,"endColumn":38},"contextRegion":{"startLine":287,"endLine":291,"snippet":{"text":"        return answer, tiktoken.get_encoding(\"cl100k_base\").encode(content)\n\n    def get_answer_stream_iter(self):\n        content = self.history[-1]['content']\n        answer = self.get_help()\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"45b72832743e79c6:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#MiniMax_Client.get_answer_at_once@minimax.py->requests.post@/home/ylt/ChuanhuChatGPT/modules/models/minimax.py$$50:20$$50:83"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/minimax.py","uriBaseId":"%SRCROOT%","index":7},"region":{"startLine":31,"startColumn":5,"endColumn":34},"contextRegion":{"startLine":29,"endLine":33,"snippet":{"text":"        }\n\n    def get_answer_at_once(self):\n        # minimax temperature is (0,1] and base model temperature is [0,2], and yuan 0.9 == base 1 so need to convert\n        temperature = self.temperature * 0.9 if self.temperature <= 1 else 0.9 + (self.temperature - 1) / 10\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"77a4f654f7d0de16:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"2#MiniMax_Client.get_answer_stream_iter@minimax.py->MiniMax_Client._get_response@minimax.py->requests.post@/home/ylt/ChuanhuChatGPT/modules/models/minimax.py$$118:24$$124:13"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/minimax.py","uriBaseId":"%SRCROOT%","index":7},"region":{"startLine":57,"startColumn":5,"endColumn":38},"contextRegion":{"startLine":55,"endLine":59,"snippet":{"text":"        return answer, total_token_count\n\n    def get_answer_stream_iter(self):\n        response = self._get_response(stream=True)\n        if response is not None:\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"92c87148105271b0:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#MiniMax_Client._get_response@minimax.py->requests.post@/home/ylt/ChuanhuChatGPT/modules/models/minimax.py$$118:24$$124:13"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/models/minimax.py","uriBaseId":"%SRCROOT%","index":7},"region":{"startLine":68,"startColumn":5,"endColumn":43},"contextRegion":{"startLine":66,"endLine":70,"snippet":{"text":"            yield STANDARD_ERROR_MSG + GENERAL_ERROR_MSG\n\n    def _get_response(self, stream=False):\n        minimax_api_key = self.api_key\n        history = self.history\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"6f2c7aae0a0057b7:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#run@repo.py->subprocess.run@/home/ylt/ChuanhuChatGPT/modules/repo.py$$41:14$$41:41"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/repo.py","uriBaseId":"%SRCROOT%","index":8},"region":{"startLine":25,"endLine":27,"endColumn":10},"contextRegion":{"startLine":23,"endLine":29,"snippet":{"text":"\n\ndef run(\n    command, desc=None, errdesc=None, custom_env=None, live: bool = default_command_live\n) -> str:\n    if desc is not None:\n        print(desc)\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"fcac4cd042c1e418:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"2#run_pip@repo.py->run@repo.py->subprocess.run@/home/ylt/ChuanhuChatGPT/modules/repo.py$$41:14$$41:41"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/repo.py","uriBaseId":"%SRCROOT%","index":8},"region":{"startLine":57,"endColumn":71},"contextRegion":{"startLine":55,"endLine":59,"snippet":{"text":"\n\ndef run_pip(command, desc=None, pref=None, live=default_command_live):\n    # if args.skip_install:\n    #     return\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"dc1a6d4cfa8cd78d:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"2#tag_html@repo.py->run@repo.py->subprocess.run@/home/ylt/ChuanhuChatGPT/modules/repo.py$$41:14$$41:41"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/repo.py","uriBaseId":"%SRCROOT%","index":8},"region":{"startLine":91,"endColumn":16},"contextRegion":{"startLine":89,"endLine":93,"snippet":{"text":"\n@lru_cache()\ndef tag_html():\n    try:\n        latest_tag = run(f\"{git} describe --tags --abbrev=0\", live=False).strip()\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"49fd1139ab44f765:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"3#repo_tag_html@repo.py->tag_html@repo.py->run@repo.py->subprocess.run@/home/ylt/ChuanhuChatGPT/modules/repo.py$$41:14$$41:41"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/repo.py","uriBaseId":"%SRCROOT%","index":8},"region":{"startLine":112,"endColumn":21},"contextRegion":{"startLine":110,"endLine":114,"snippet":{"text":"\n\ndef repo_tag_html():\n    commit_version = commit_html()\n    tag_version = tag_html()\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"8289988a4ca28df9:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"4#versions_html@repo.py->repo_tag_html@repo.py->tag_html@repo.py->run@repo.py->subprocess.run@/home/ylt/ChuanhuChatGPT/modules/repo.py$$41:14$$41:41"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/repo.py","uriBaseId":"%SRCROOT%","index":8},"region":{"startLine":118,"endColumn":21},"contextRegion":{"startLine":116,"endLine":120,"snippet":{"text":"\n\ndef versions_html():\n    python_version = \".\".join([str(x) for x in sys.version_info[0:3]])\n    repo_version = repo_tag_html()\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"680b1289fb81a5a8:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#get_latest_release@repo.py->requests.get@/home/ylt/ChuanhuChatGPT/modules/repo.py$$176:19$$178:9"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/repo.py","uriBaseId":"%SRCROOT%","index":8},"region":{"startLine":172,"endColumn":26},"contextRegion":{"startLine":170,"endLine":174,"snippet":{"text":"\n\ndef get_latest_release():\n    try:\n        import requests\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"e6a773837cb4fb50:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#get_tag_commit_hash@repo.py->requests.get@/home/ylt/ChuanhuChatGPT/modules/repo.py$$193:16$$195:9"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/repo.py","uriBaseId":"%SRCROOT%","index":8},"region":{"startLine":189,"endColumn":30},"contextRegion":{"startLine":187,"endLine":191,"snippet":{"text":"\n\ndef get_tag_commit_hash(tag):\n    try:\n        import requests\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"16a8ad82b2c3ed97:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"2#background_update@repo.py->run@repo.py->subprocess.run@/home/ylt/ChuanhuChatGPT/modules/repo.py$$41:14$$41:41\n2#background_update@repo.py->get_latest_release@repo.py->requests.get@/home/ylt/ChuanhuChatGPT/modules/repo.py$$176:19$$178:9\n2#background_update@repo.py->get_tag_commit_hash@repo.py->requests.get@/home/ylt/ChuanhuChatGPT/modules/repo.py$$193:16$$195:9\n3#background_update@repo.py->run_pip@repo.py->run@repo.py->subprocess.run@/home/ylt/ChuanhuChatGPT/modules/repo.py$$41:14$$41:41"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/repo.py","uriBaseId":"%SRCROOT%","index":8},"region":{"startLine":216,"endColumn":25},"contextRegion":{"startLine":214,"endLine":218,"snippet":{"text":"\n\ndef background_update():\n    # {git} fetch --all && ({git} pull https://github.com/GaiZhenbiao/ChuanhuChatGPT.git main -f || ({git} stash && {git} pull https://github.com/GaiZhenbiao/ChuanhuChatGPT.git main -f && {git} stash pop)) && {pip} install -r requirements.txt\")\n    try:\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"84c0f02f5cb628b2:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"1#get_geoip.fetch_ip@utils.py->requests.get@/home/ylt/ChuanhuChatGPT/modules/utils.py$$692:28$$692:76"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/utils.py","uriBaseId":"%SRCROOT%","index":9},"region":{"startLine":688,"startColumn":5,"endColumn":20},"contextRegion":{"startLine":686,"endLine":690,"snippet":{"text":"\n    # 定义一个内部函数用于在新线程中执行IP信息的获取\n    def fetch_ip():\n        global SERVER_GEO_IP_MSG, FETCHING_IP\n        try:\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"b6cb41d5cfd63799:1","primaryLocationStartColumnFingerprint":"0"}},{"ruleId":"py-qs/caller","ruleIndex":0,"rule":{"id":"py-qs/caller","index":0},"message":{"text":"3#update_chuanhu@utils.py->background_update@repo.py->run@repo.py->subprocess.run@/home/ylt/ChuanhuChatGPT/modules/repo.py$$41:14$$41:41\n3#update_chuanhu@utils.py->background_update@repo.py->get_latest_release@repo.py->requests.get@/home/ylt/ChuanhuChatGPT/modules/repo.py$$176:19$$178:9\n3#update_chuanhu@utils.py->background_update@repo.py->get_tag_commit_hash@repo.py->requests.get@/home/ylt/ChuanhuChatGPT/modules/repo.py$$193:16$$195:9\n4#update_chuanhu@utils.py->background_update@repo.py->run_pip@repo.py->run@repo.py->subprocess.run@/home/ylt/ChuanhuChatGPT/modules/repo.py$$41:14$$41:41"},"locations":[{"physicalLocation":{"artifactLocation":{"uri":"modules/utils.py","uriBaseId":"%SRCROOT%","index":9},"region":{"startLine":767,"endColumn":30},"contextRegion":{"startLine":765,"endLine":769,"snippet":{"text":"\n\ndef update_chuanhu(username):\n    if username not in admin_list:\n        return gr.Markdown(value=i18n(\"no_permission_to_update_description\"))\n"}}}}],"partialFingerprints":{"primaryLocationLineHash":"99b4095f1433e4b3:1","primaryLocationStartColumnFingerprint":"0"}}],"columnKind":"unicodeCodePoints","properties":{"semmle.formatSpecifier":"sarif-latest"}}]}
{"amap_poi_search_engine -> get": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/agent/tools_factory/amap_poi_search.py", "sink": "get", "line": 15, "expr": "requests.get(BASE_URL, params=params)"}], "amap_poi_search -> amap_poi_search_engine -> get": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/agent/tools_factory/amap_poi_search.py", "sink": "get", "line": 15, "expr": "requests.get(BASE_URL, params=params)"}], "get_adcode -> get": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/agent/tools_factory/amap_weather.py", "sink": "get", "line": 18, "expr": "requests.get(BASE_DISTRICT_URL, params=params)"}], "get_weather -> get": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/agent/tools_factory/amap_weather.py", "sink": "get", "line": 33, "expr": "requests.get(BASE_WEATHER_URL, params=params)"}], "amap_weather -> get_adcode -> get": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/agent/tools_factory/amap_weather.py", "sink": "get", "line": 18, "expr": "requests.get(BASE_DISTRICT_URL, params=params)"}], "amap_weather -> get_weather -> get": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/agent/tools_factory/amap_weather.py", "sink": "get", "line": 33, "expr": "requests.get(BASE_WEATHER_URL, params=params)"}], "KBService.add_doc -> KBService.delete_doc -> PGKBService.do_delete_doc -> execute": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/knowledge_base/kb_service/pg_kb_service.py", "sink": "execute", "line": 100, "expr": "session.execute(select_query, {\"name\": kb_file.kb_name})"}, {"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/knowledge_base/kb_service/pg_kb_service.py", "sink": "execute", "line": 101, "expr": "session.execute(                delete_query,                 {                    \"cmetadata\": '{\"source\": \"%s\"}' % self.get_relative_source_path(kb_file.filepath),                    \"collection_id\": collection_id                }            )"}], "KBService.delete_doc -> PGKBService.do_delete_doc -> execute": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/knowledge_base/kb_service/pg_kb_service.py", "sink": "execute", "line": 100, "expr": "session.execute(select_query, {\"name\": kb_file.kb_name})"}, {"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/knowledge_base/kb_service/pg_kb_service.py", "sink": "execute", "line": 101, "expr": "session.execute(                delete_query,                 {                    \"cmetadata\": '{\"source\": \"%s\"}' % self.get_relative_source_path(kb_file.filepath),                    \"collection_id\": collection_id                }            )"}], "KBService.update_doc -> KBService.delete_doc -> PGKBService.do_delete_doc -> execute": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/knowledge_base/kb_service/pg_kb_service.py", "sink": "execute", "line": 100, "expr": "session.execute(select_query, {\"name\": kb_file.kb_name})"}, {"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/knowledge_base/kb_service/pg_kb_service.py", "sink": "execute", "line": 101, "expr": "session.execute(                delete_query,                 {                    \"cmetadata\": '{\"source\": \"%s\"}' % self.get_relative_source_path(kb_file.filepath),                    \"collection_id\": collection_id                }            )"}], "KBService.update_doc -> KBService.add_doc -> KBService.delete_doc -> PGKBService.do_delete_doc -> execute": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/knowledge_base/kb_service/pg_kb_service.py", "sink": "execute", "line": 100, "expr": "session.execute(select_query, {\"name\": kb_file.kb_name})"}, {"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/knowledge_base/kb_service/pg_kb_service.py", "sink": "execute", "line": 101, "expr": "session.execute(                delete_query,                 {                    \"cmetadata\": '{\"source\": \"%s\"}' % self.get_relative_source_path(kb_file.filepath),                    \"collection_id\": collection_id                }            )"}], "launch_worker -> run": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/llm_api_stale.py", "sink": "run", "line": 244, "expr": "subprocess.run(worker_sh, shell=True, check=True)"}, {"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/llm_api_stale.py", "sink": "run", "line": 245, "expr": "subprocess.run(worker_check_sh, shell=True, check=True)"}], "launch_all -> run": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/llm_api_stale.py", "sink": "run", "line": 261, "expr": "subprocess.run(controller_sh, shell=True, check=True)"}, {"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/llm_api_stale.py", "sink": "run", "line": 262, "expr": "subprocess.run(controller_check_sh, shell=True, check=True)"}, {"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/llm_api_stale.py", "sink": "run", "line": 278, "expr": "subprocess.run(server_sh, shell=True, check=True)"}, {"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/llm_api_stale.py", "sink": "run", "line": 279, "expr": "subprocess.run(server_check_sh, shell=True, check=True)"}], "launch_all -> launch_worker -> run": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/llm_api_stale.py", "sink": "run", "line": 244, "expr": "subprocess.run(worker_sh, shell=True, check=True)"}, {"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/llm_api_stale.py", "sink": "run", "line": 245, "expr": "subprocess.run(worker_check_sh, shell=True, check=True)"}], "PGKBService.get_doc_by_ids -> execute": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/knowledge_base/kb_service/pg_kb_service.py", "sink": "execute", "line": 44, "expr": "session.execute(stmt, {\"ids\": ids})"}], "PGKBService.do_drop_kb -> execute": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/knowledge_base/kb_service/pg_kb_service.py", "sink": "execute", "line": 62, "expr": "session.execute(                text(                    f\"\"\"                    -- \u5220\u9664 langchain_pg_embedding \u8868\u4e2d\u5173\u8054\u5230 langchain_pg_collection \u8868\u4e2d \u7684\u8bb0\u5f55                    DELETE FROM langchain_pg_embedding                    WHERE collection_id IN (                      SELECT uuid FROM langchain_pg_collection WHERE name = '{self.kb_name}'                    );                    -- \u5220\u9664 langchain_pg_collection \u8868\u4e2d \u8bb0\u5f55                    DELETE FROM langchain_pg_collection WHERE name = '{self.kb_name}';            \"\"\"                )            )"}], "PGKBService.do_delete_doc -> execute": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/knowledge_base/kb_service/pg_kb_service.py", "sink": "execute", "line": 100, "expr": "session.execute(select_query, {\"name\": kb_file.kb_name})"}, {"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/knowledge_base/kb_service/pg_kb_service.py", "sink": "execute", "line": 101, "expr": "session.execute(                delete_query,                 {                    \"cmetadata\": '{\"source\": \"%s\"}' % self.get_relative_source_path(kb_file.filepath),                    \"collection_id\": collection_id                }            )"}], "main -> run": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/release.py", "sink": "run", "line": 43, "expr": "subprocess.run(['git', 'tag', new_version])"}, {"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/release.py", "sink": "run", "line": 44, "expr": "subprocess.run(['git', 'push', 'origin', new_version])"}], "RelytKBService.get_doc_by_ids -> execute": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/knowledge_base/kb_service/relyt_kb_service.py", "sink": "execute", "line": 38, "expr": "session.execute(stmt, {\"ids\": ids_str})"}], "RelytKBService.del_doc_by_ids -> execute": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/knowledge_base/kb_service/relyt_kb_service.py", "sink": "execute", "line": 46, "expr": "session.execute(stmt, {\"ids\": ids_str})"}], "RelytKBService.do_delete_doc -> execute": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/knowledge_base/kb_service/relyt_kb_service.py", "sink": "execute", "line": 108, "expr": "session.execute(text(stmt))"}], "shell -> run": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/agent/tools_factory/shell.py", "sink": "run", "line": 13, "expr": "tool.run(tool_input=query)"}], "execute_promql_request -> get": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/agent/tools_factory/text2promql.py", "sink": "get", "line": 43, "expr": "requests.get(url, params=params, auth=auth)"}], "query_prometheus -> execute_promql_request -> get": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/agent/tools_factory/text2promql.py", "sink": "get", "line": 43, "expr": "requests.get(url, params=params, auth=auth)"}], "text2promql -> query_prometheus -> execute_promql_request -> get": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/agent/tools_factory/text2promql.py", "sink": "get", "line": 43, "expr": "requests.get(url, params=params, auth=auth)"}], "query_database -> invoke": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/agent/tools_factory/text2sql.py", "sink": "invoke", "line": 105, "expr": "db_chain.invoke({\"query\": query, \"table_names_to_use\": table_names})"}, {"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/agent/tools_factory/text2sql.py", "sink": "invoke", "line": 115, "expr": "db_chain.invoke(query)"}], "text2sql -> query_database -> invoke": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/agent/tools_factory/text2sql.py", "sink": "invoke", "line": 105, "expr": "db_chain.invoke({\"query\": query, \"table_names_to_use\": table_names})"}, {"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/agent/tools_factory/text2sql.py", "sink": "invoke", "line": 115, "expr": "db_chain.invoke(query)"}], "url_reader -> get": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/agent/tools_factory/url_reader.py", "sink": "get", "line": 36, "expr": "requests.get(reader_url, timeout=timeout)"}], "weather_check -> get": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/agent/tools_factory/weather_check.py", "sink": "get", "line": 21, "expr": "requests.get(url)"}], "launch_api -> run": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/webui_allinone_stale.py", "sink": "run", "line": 63, "expr": "subprocess.run(api_sh, shell=True, check=True)"}], "launch_webui -> run": [{"file_path": "C:/Users/cokebeer/Documents/llm/Langchain-Chatchat/libs/chatchat-server/chatchat/server/webui_allinone_stale.py", "sink": "run", "line": 83, "expr": "subprocess.run(webui_sh, shell=True, check=True)"}]}